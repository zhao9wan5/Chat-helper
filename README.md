框架结构
1、应用程序结构
(1)登录注册模块
登录注册使用了Android自带的SQLite数据库用来存储用户个人信息，以及账号密码。界面方面设计了登陆和注册两个界面，界面包含TextView、ImageView、EditText、Button控件来实现基本的交互功能，并且使用封装好的包含sql语句的方法实现数据的存入和查询。
此外，为了实现自动登录的功能，采用了SharedPreferences持久化机制。

(2)主页模块
主页模块由三个页面和一个导航栏组成。
导航栏的实现依赖于getMenuInflater().inflate方法，该方法用于加载预先编写好的Android菜单布局文件。通过加载布局文件，可以在界面上显示导航栏的各个菜单项。为了实现菜单项的交互和跳转功能，使用了item.getItemId()方法来获取菜单项的ID。通过获取菜单项的ID，可以根据不同的ID来设置相应的交互行为，实现跳转页面的功能。

三个页面分别是“AI对话界面”、“对话记录界面”和“个人信息界面”。
“AI对话界面”，包含两个页面，一个“进入对话页面”，一个“对话页面”。“进入对话页面”包含一个跳转按钮和一个清除对话的按钮，清除对话按钮使用了一个封装好的 Room 数据访问对象（DAO）的方法来实现清除对话功能。“对话页面”使用了嵌套的Android 菜单布局文件，将左对话框布局文件和右对话框布局文件嵌套在一个Android 菜单布局文件中，此外，还使用了一个聊天界面的 RecyclerView 适配器，根据消息的发送方，来管理聊天显示。    
“对话记录界面”使用了RelativeLayout布局，并且使用RecyclerView来显示列表数据，对于创建的新对话框，则使用SharedPreferences持久化来保存数据到本地文件中。
“个人信息界面”用于显示用户信息和修改账户密码，并且提供退出和登出功能。所显示的用户信息，由用户登陆时，使用SharedPreferences持久化将用户信息存储在本地，并在登录成功后从本地文件中获取信息显示在信息栏。修改功能，则是通过封装好的包含sql语句的方法实现数据库数据的修改。登出功能是通过将保存自动登录的SharedPreferences本地文件中存储的信息清空，并且跳转到登陆页面。退出功能是通过使用finish方法关闭活动。

(3)对话功能模块
对话功能是通过连接服务器上的api，将用户输入的信息传递给服务器，并且接收服务器的响应，将接收到的消息显示在对话框。
发送消息：使用了 Retrofit 库来实现与机器人服务的网络通信功能。使用RobotNetwork 对象，封装了与服务器通信的网络请求。创建了一个通信接口的代理对象 robotService，定义了与机器人聊天服务器交互的所有请求接口。为了保证执行该操作时不会影响主线程（卡顿），所以使用协程来实现，保证程序的流畅性，不会卡顿。
发送的消息体：消息体使用JSON格式来传输数据，数据中包含API_KEY和ID用来身份认证。
返回的消息体：返回的消息体包含intent，results，values。Intent包含一个code号，用来判断消息是否为有效信息。results用来说明信息的类型，一般为text类型。values是服务器api回复的信息本体。
接收消息：通过判断返回的消息体中的code号，确定是否显示该信息。并判断该信息显示的位置。

(4)数据库操作模块
该软件使用了SQLite和Room 数据库来实现数据的存储。使用Android studio内嵌的SQLite数据库来存储用户的账户密码和个人信息，并且封装了两个函数用于存入数据和查询数据，通过将需要操作的数据传递到创建好的 ContentValues 对象中，使用数据库的方法实现。使用Room数据库来存储历史对话，通过使用 Room Persistence Library 及其注解，实现数据库访问操作。

(5)日志模块
使用了Android 提供了一个称为 Log 的日志类。在每个跳转函数下设置了日志操作，保证了调试时可以获得页面栈的变化。

2、数据库结构
(1)用户信息数据库表

name	Password
1	1

(2)对话记录数据库表
state	message
***	***

3、用户交互流程
登录注册页面交互流程：
登录注册页面应该包含输入用户名和密码的文本框，以及登录和注册按钮。用户输入用户名和密码后，点击登录按钮进行登录，程序需要验证用户输入的用户名和密码是否匹配，如果匹配则登录成功。如果用户没有账号，可以点击注册按钮跳转到注册页面进行账号注册。在注册页面，用户需要输入所需的信息并点击注册按钮进行账号注册，注册后自动登录。

对话交互流程：
用户对话过程中，每次只能发送一条信息，下一次发送只能等待本次回复结束。对话数据将一直保存，用户可以选择清空对话来清除对话记录。

实现细节
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/b8b5391a-c232-4f04-8365-6b27d00e1a5a)
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/588b9499-81b3-4f90-be08-1f740c8165ef)
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/da20b5f9-b0d5-4ede-a027-cfa3d3d989a6)
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/45e940cd-2a0f-4eb6-b712-38653f5df11a)
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/318c3ccd-fcfb-4186-b8d3-04a4a2c8a864)
![image](https://github.com/zhao9wan5/Chat-helper/assets/133371969/18e1a3fa-986f-4048-a337-92e9d076b1a6)





